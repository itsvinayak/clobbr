@tailwind base;
@tailwind components;
@tailwind utilities;

/**
 * Fancy heading gradients
 */

@supports (background-clip: text) {
  .fancyHeading {
    background-image: linear-gradient(
      rgb(10, 10, 10) 10%,
      rgba(10, 10, 10, 0.68)
    );
    background-clip: text;
    color: transparent;
  }

  @media (prefers-color-scheme: dark) {
    .fancyHeading {
      background-image: linear-gradient(
        rgb(245, 245, 245) 10%,
        rgba(245, 245, 245, 0.68)
      );
      background-clip: text;
      color: transparent;
    }
  }
}

/**
 * Fancy overlay gradients & animation.
 */
@property --fancy-x {
  syntax: "<percentage>";
  inherits: true;
  initial-value: 0%;
}
@property --fancy-y {
  syntax: "<percentage>";
  inherits: true;
  initial-value: 0%;
}

:root,
:after,
:before {
  --fancy-x: 0%;
  --fancy-y: 0%;
  --fancy-gradient-blend-mode: overlay, color-dodge, overlay, overlay,
    difference, normal;
  --fancy-gradient-dark: linear-gradient(
      120deg,
      var(--primary-light) 0%,
      var(--primary-darker) 100%
    ),
    linear-gradient(
      120deg,
      var(--secondary-main) 0%,
      var(--secondary-darker) 100%
    ),
    linear-gradient(
      180deg,
      var(--secondary-dark) 0%,
      var(--fancyGradient-linearSecondaryTo) 100%
    ),
    linear-gradient(60deg, var(--secondary-light) 0%, var(--primary-dark) 100%),
    radial-gradient(
      100% 165% at var(--fancy-x) var(--fancy-y),
      var(--primary-main) 0%,
      var(--fancyGradient-radialPrimaryTo) 100%
    ),
    radial-gradient(
      100% 150% at 0% 0%,
      var(--fancyGradient-radialAccentFrom) 0%,
      var(--fancyGradient-radialAccentTo) 100%
    );

  --fancy-gradient-light: var(--fancy-gradient-dark);
}

[data-nextjs-scroll-focus-boundary] {
  display: contents;
}

.fancyOverlay::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  z-index: -1;
  width: 100%;
  height: 100%;
  filter: invert(1) opacity(0.2) hue-rotate(220deg);
  background-blend-mode: var(--fancy-gradient-blend-mode);
  background: var(--fancy-gradient-light);
  animation: roundabout 30s ease-out both;
}

@media (prefers-color-scheme: dark) {
  html {
    color-scheme: dark;
  }

  body {
    color: white;
  }

  .fancyOverlay::after {
    filter: invert(0) opacity(1) contrast(2) hue-rotate(70deg) grayscale(0.8);
    background: var(--fancy-gradient-dark);
  }
}

@keyframes roundabout {
  0% {
    --fancy-x: 60%;
    --fancy-y: 60%;
  }

  10% {
    --fancy-x: 80%;
    --fancy-y: 80%;
  }

  100% {
    --fancy-x: 100%;
    --fancy-y: 100%;
  }
}
